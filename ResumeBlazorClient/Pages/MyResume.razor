@page "/myresume"

@if ( Resume == null ) {
<div class="resume container-fluid isLoading">
    <div class="row">
        <div class="col-12 col-lg-3 colnum1">
            <div class="profileImage">
                <div class="load-wraper">
                    <div class="activity"></div>
                </div>
            </div>
            <hr />
            <div class="profileContactInfo">
                <div class="addressBlock">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="profilePhone">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="profileEmail">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="profileWebsite">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="profileLinkedIn">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
            </div>
            <hr />
            <div class="skillGroup">
                <div class="skillHeader">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skillLabel">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skill">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skillLabel">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skill">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skillLabel">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skill">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
            </div>
            <hr />
            <div class="skillGroup">
                <div class="skillHeader">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skillLabel">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skill">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skillLabel">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skill">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skillLabel">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <div class="skill">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
            </div>
            <hr />
        </div>
        <div class="col">
            <div class="text-center fullName resumeTitle">
                <div class="load-wraper">
                    <div class="activity"></div>
                </div>
            </div>
            <div class="text-center jobTitle resumeSubtitle">
                <div class="load-wraper">
                    <div class="activity"></div>
                </div>
            </div>
            <hr />
            <br />
            <div class="profileBlock">
                <div class="blockTitle">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <hr />
                <div class="blockContent">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
            </div>
            <div class="educationHistoryBlock">
                <div class="blockTitle">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <hr />
                <div class="blockContent">
                    <div class="educationHistoryItem">
                        <div class="load-wraper">
                            <div class="activity"></div>
                        </div>
                    </div>
                    <div class="educationHistoryItem">
                        <div class="load-wraper">
                            <div class="activity"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="workHistoryBlock">
                <div class="blockTitle">
                    <div class="load-wraper">
                        <div class="activity"></div>
                    </div>
                </div>
                <hr />
                <div class="blockContent">
                    <div class="workHistoryItem">
                        <div class="load-wraper">
                            <div class="activity"></div>
                        </div>
                    </div>
                    <div class="workHistoryItem">
                        <div class="load-wraper">
                            <div class="activity"></div>
                        </div>
                    </div>
                    <div class="workHistoryItem">
                        <div class="load-wraper">
                            <div class="activity"></div>
                        </div>
                    </div>
                    <div class="workHistoryItem">
                        <div class="load-wraper">
                            <div class="activity"></div>
                        </div>
                    </div>
                    <div class="workHistoryItem">
                        <div class="load-wraper">
                            <div class="activity"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
} else {
<div class="resume container-fluid">
    <div class="row">
        <div class="col-12 col-lg-3 colnum1">
            <div class="profileImage">
                <img src="@(Resume.Person.ImageRef)" />
            </div>
            <hr />
            <div class="profileContactInfo">
                <div class="addressBlock">
                    <p>
                        @Resume.Person.ContactInfo.Line1
                        @if ( @Resume.Person.ContactInfo.Line2 != null ) {@(",") @Resume.Person.ContactInfo.Line2} <br />
                        @Resume.Person.ContactInfo.City
                        @if ( @Resume.Person.ContactInfo.State != null && @Resume.Person.ContactInfo.State != null ) {@(",")}
                        @Resume.Person.ContactInfo.State <br />
                        @Resume.Person.ContactInfo.Zip
                    </p>
                </div>
                @if ( @Resume.Person.ContactInfo.Phone != null ) {
                <div class="profilePhone">
                    <p><a href="tel: @Resume.Person.ContactInfo.Phone">@Resume.Person.ContactInfo.Phone</a></p>
                </div>
                }
                @if ( @Resume.Person.ContactInfo.Email != null ) {
                <div class="profileEmail">
                    <p><a href="mailto: @Resume.Person.ContactInfo.Email">@Resume.Person.ContactInfo.Email</a></p>
                </div>
                }
                @if ( @Resume.Person.WebsiteURL != null ) {
                <div class="profileWebsite">
                    <p><a href="@Resume.Person.WebsiteURL" target="_blank">My Portfolio Site</a></p>
                </div>
                }
                @if ( @Resume.Person.GitHubUrl != null ) {
                <div class="profileGitHub">
                    <p><a href="@Resume.Person.GitHubUrl" target="_blank">My GitHub</a></p>
                </div>
                }
                @if ( @Resume.Person.LinkedInUrl != null ) {
                <div class="profileLinkedIn">
                    <p><a href="@Resume.Person.LinkedInUrl" target="_blank">My LinkedIn</a></p>
                </div>
                }
            </div>

            @if ( HasSkills ) {
            @foreach ( var sg in Resume.SkillGroups ) {
            <div class="skillGroup">
                <div class="skillHeader">
                    @sg.Name
                </div>
                <hr />
                @foreach ( var s in sg.Skills ) {
                @if ( s.Competence <= 0 ) {
                <span>@s.Name, </span>
                } else {
                <div class="skillLabel">
                    @s.Name
                </div>
                <div class="skill progress">
                    <div class="progress-bar" style="width: @(s.Competence)%" role="progressbar" aria-valuenow="0" aria-valuemin="0" aria-valuemax="100">@s.Competence</div>
                </div>
                }
                }
            </div>
            }
            }

        </div>
        <div class="col">
            <div class="text-center fullName resumeTitle">
                <h1><span>@Resume.Person.FName&nbsp;</span>@if ( Resume.Person.MName != null ) {<span>@Resume.Person.MName&nbsp;</span>}<span>@Resume.Person.LName</span></h1>
            </div>
            <div class="text-center jobTitle resumeSubtitle">
                <h2>@Resume.JobTitle</h2>
            </div>
            <hr />
            <br />

            @if ( HasProfileStatement ) {
            <div class="profileBlock">
                <div class="blockTitle">
                    <h1>Profile</h1>
                </div>
                <hr />
                <div class="blockContent">
                    <p>@Resume.ObjectiveStatement</p>
                </div>
            </div>
            }

            @if ( HasEducationHistory ) {
            <div class="educationHistoryBlock">
                <div class="blockTitle">
                    <h1>Education History</h1>
                </div>
                <hr />
                <div class="blockContent">
                    @foreach ( var ehi in Resume.EducationHistory ) {
                    <div class="educationHistoryItem flex-container">
                        <div class="row">
                            <div class="col-12">
                                <h1 class="institutionName">@ehi.Institution.Name</h1>
                            </div>
                        </div>
                        <hr />
                        @if ( ehi.StartDate != null && ehi.StartDate != DateTime.MinValue ||
                        ehi.EndDate != null && ehi.EndDate != DateTime.MinValue ) {
                        <div class="row text-center">
                            <div class="col-12 col-lg-6">
                                @if ( ehi.StartDate != null && ehi.StartDate != DateTime.MinValue ) {
                                <p class="startDate">Began Attending on @ehi.StartDate?.ToString("MM/yyyy")</p>
                                }
                            </div>
                            <div class="col-12 col-lg-6">
                                @if ( ehi.EndDate != null && ehi.EndDate != DateTime.MinValue ) {
                                <p class="endDate">Concluded on @ehi.EndDate?.ToString("MM/yyyy")</p>
                                }
                            </div>
                        </div>
                        }
                        <div class="row text-center">
                            <div class="col-12 col-lg-6">
                                @if ( !String.IsNullOrEmpty(ehi.Institution.Location) ) {
                                <p class="institutionLocation">@ehi.Institution.Location</p>
                                }
                            </div>
                            <div class="col-12 col-lg-6">
                                @if ( ehi.CompletedDegrees != null && ehi.CompletedDegrees.Count() > 0 ) {
                                <p class="endDate">Graduated on @ehi.EndDate?.ToString("MM/yyyy")</p>
                                }
                            </div>
                        </div>
                        <hr />

                        @if ( !String.IsNullOrEmpty(ehi.AreasOfStudy) ) {
                        <div class="row text-center">
                            <div class="col-12 innerBlockTitle">
                                <h1>Areas of Study</h1>
                            </div>
                            <div class="col-12 innerBlockContent">
                                <div style="padding-left:8px;">@ehi.AreasOfStudy</div>
                            </div>
                        </div>
                        }
                        @if ( ehi.Partials.Count() > 0 ) {
                        <div class="row text-center">
                            <div class="col-12 innerBlockTitle">
                                <h1>Partial Degrees (focused curriculum)</h1>
                            </div>

                            <div class="col-12 innerBlockContent">
                                @foreach ( var part in @ehi.Partials ) {
                                <div>
                                    @if ( !String.IsNullOrEmpty(part.Name) ) {
                                    <span style="padding-left:4px;"><b>@part.Name</b></span><br />
                                    }

                                    @if ( @part.StartDate != null && @part.StartDate != DateTime.MinValue &&
                                    @part.EndDate != null && @part.EndDate != DateTime.MinValue ) {
                                    <span style="padding-left:8px;">(@part.StartDate?.ToString("MM/yyyy") - @part.EndDate?.ToString("MM/yyyy"))</span><br />
                                    } else if ( @part.StartDate != null && @part.StartDate != DateTime.MinValue &&
                                    @part.EndDate == null && @part.EndDate == DateTime.MinValue ) {
                                    <span style="padding-left:8px;">(@part.StartDate?.ToString("MM/yyyy") - ongoing)</span><br />
                                    } else if ( @part.StartDate == null && @part.StartDate == DateTime.MinValue &&
                                    @part.EndDate != null && @part.EndDate != DateTime.MinValue ) {
                                    <span style="padding-left:8px;">(concluded: @part.EndDate?.ToString("MM/yyyy"))</span><br />
                                    }
                                    <span style="padding-left:8px;">@part.Detail</span>
                                </div>
                                }
                            </div>
                        </div>
                        }
                        @if ( ehi.CompletedDegrees.Count() > 0 ) {
                        <div class="row text-center">
                            <div class="col-12 innerBlockTitle">
                                <h1>Degrees</h1>
                            </div>
                            <div class="col-12 innerBlockContent">
                                @foreach ( var comp in ehi.CompletedDegrees ) {
                                <div>
                                    @if ( !String.IsNullOrEmpty(comp.Name) ) {
                                    <span style="padding-left:4px;"><b>@comp.Name</b></span><br />
                                    }
                                    @if ( comp.StartDate != null && comp.StartDate != DateTime.MinValue &&
                                    comp.EndDate != null && comp.EndDate != DateTime.MinValue ) {
                                    <span style="padding-left:8px;">(@comp.StartDate?.ToString("MM/yyyy") - @comp.EndDate?.ToString("MM/yyyy"))</span><br />
                                    } else if ( comp.StartDate != null && comp.StartDate != DateTime.MinValue &&
                                    comp.EndDate == null && comp.EndDate == DateTime.MinValue ) {
                                    <span style="padding-left:8px;">(@comp.StartDate?.ToString("MM/yyyy") - ongoing)</span><br />
                                    } else if ( comp.StartDate == null && comp.StartDate == DateTime.MinValue &&
                                    comp.EndDate != null && comp.EndDate != DateTime.MinValue ) {
                                    <span style="padding-left:8px;">(completed: @comp.EndDate?.ToString("MM/yyyy"))</span><br />
                                    }
                                    <span style="padding-left:8px;">@comp.Detail</span>
                                </div>
                                }
                            </div>
                        </div>
                        }
                    </div>
                    }
                </div>
            </div>
            }

            @if ( HasWorkHistory ) {
            <div class="workHistoryBlock">
                <div class="blockTitle">
                    <h1>Work History</h1>
                </div>
                <hr />
                <div class="blockContent">
                    @foreach ( var whi in Resume.WorkHistory ) {
                    <div class="workHistoryItem flexContainer">
                        <div class="row">
                            <div class="col-12">
                                <h1 class="institutionName">@whi.Employer.Name</h1><!--  Location? -->
                            </div>
                        </div>
                        <hr />
                        @if ( whi.StartDate != null && whi.StartDate != DateTime.MinValue ||
                        whi.EndDate != null && whi.EndDate != DateTime.MinValue ) {
                        <!-- client here? if they exist -->
                        <div class="row text-center">
                            <div class="col-12 col-lg-6">
                                @if ( whi.StartDate != null && whi.StartDate != DateTime.MinValue ) {
                                <p class="startDate">Began Work on @whi.StartDate?.ToString("MM/yyyy")</p>
                                }
                            </div>
                            <div class="col-12 col-lg-6">
                                @if ( whi.EndDate != null && whi.EndDate != DateTime.MinValue ) {
                                <p class="endDate">Concluded on @whi.EndDate?.ToString("MM/yyyy")</p>
                                }
                            </div>
                        </div>
                        }
                        <div class="row text-center">
                            <div class="col-12 col-lg-6">
                                @if ( !String.IsNullOrEmpty(whi.Employer.Location) ) {
                                <p class="institutionLocation">
                                    <span>@whi.Employer.Location </span>
                                    @if ( whi.Client != null && !String.IsNullOrEmpty(whi.Client.Name) ) {
                                    <br /><span>Clients : @whi.Client.Name</span>
                                    }
                                </p>
                                }
                            </div>
                            <div class="col-12 col-lg-6">
                                @if ( !String.IsNullOrEmpty(whi.JobTitle) ) {
                                <p class="jobTitle">
                                    <span>@whi.JobTitle</span>
                                    @if ( !String.IsNullOrEmpty(whi.JobType) ) {
                                    <span> (@whi.JobType)</span>
                                    }
                                </p>
                                }
                            </div>
                        </div>
                        <hr />



                        @if ( !String.IsNullOrEmpty(whi.DescriptionOfDuties) ) {
                        <div class="row text-center">
                            <div class="col-12 innerBlockTitle">
                                <h1>Duties</h1>
                            </div>
                            <div class="col-12 innerBlockContent">
                                <div style="padding-left:8px;">@whi.DescriptionOfDuties</div>
                            </div>
                        </div>
                        }

                        @if ( !String.IsNullOrEmpty(whi.ReasonForLeaving) ) {
                        <div class="row text-center">
                            <div class="col-12 innerBlockTitle">
                                <h1>Reason For Leaving</h1>
                            </div>
                            <div class="col-12 innerBlockContent">
                                <div style="padding-left:8px;">@whi.ReasonForLeaving</div>
                            </div>
                        </div>
                        }

                        @if ( whi.CompletedProjects.Count() > 0 && !String.IsNullOrEmpty(whi.CompletedProjects.First()) ) {
                        <div class="row text-center">
                            <div class="col-12 innerBlockTitle">
                                <h1>Completed Projects</h1>
                            </div>
                            <div class="col-12 innerBlockContent">
                                @foreach ( var comp in whi.CompletedProjects ) {
                                <div style="padding-left:8px;">
                                    @if ( !String.IsNullOrEmpty(comp) ) {
                                    @comp
                                    }
                                </div>
                                }
                            </div>
                        </div>
                        }

                        @if ( whi.References.Count() > 0 ) {
                        <div class="row text-center">
                            <div class="col-12 innerBlockTitle">
                                <h1>References</h1>
                            </div>
                            <div class="col-12 innerBlockContent">
                                <div style="padding-left:8px;">
                                    @foreach ( var reference in whi.References ) {
                                    @if ( !String.IsNullOrEmpty(reference.ContactInfo.Email) ) {
                                    <span><a href="mailto:@(reference.ContactInfo.Email)">@reference.FName @reference.LName</a> &nbsp;</span>
                                    } else {
                                    <p>@reference.FName @reference.LName &nbsp;</p>
                                    }
                                    }
                                </div>
                            </div>
                        </div>
                        }

                    </div>
                    }
                </div>
            </div>
            }
        </div>
    </div>
</div>
}